<UserControl x:Class="LightJockey.Views.AudioVisualizerControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="200" d:DesignWidth="400">
    <Border BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" CornerRadius="4">
        <Grid Background="{DynamicResource VisualizerBackground}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Low Frequency Bar -->
            <Grid Grid.Column="0" Margin="10">
                <Rectangle x:Name="LowFreqBar" 
                          Fill="{DynamicResource LowFreqBrush}"
                          VerticalAlignment="Bottom"
                          Height="0"/>
                <TextBlock Text="LOW" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Bottom"
                          Margin="0,0,0,5"
                          FontSize="10"
                          Foreground="{DynamicResource TextBrush}"/>
            </Grid>
            
            <!-- Mid Frequency Bar -->
            <Grid Grid.Column="1" Margin="10">
                <Rectangle x:Name="MidFreqBar" 
                          Fill="{DynamicResource MidFreqBrush}"
                          VerticalAlignment="Bottom"
                          Height="0"/>
                <TextBlock Text="MID" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Bottom"
                          Margin="0,0,0,5"
                          FontSize="10"
                          Foreground="{DynamicResource TextBrush}"/>
            </Grid>
            
            <!-- High Frequency Bar -->
            <Grid Grid.Column="2" Margin="10">
                <Rectangle x:Name="HighFreqBar" 
                          Fill="{DynamicResource HighFreqBrush}"
                          VerticalAlignment="Bottom"
                          Height="0"/>
                <TextBlock Text="HIGH" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Bottom"
                          Margin="0,0,0,5"
                          FontSize="10"
                          Foreground="{DynamicResource TextBrush}"/>
            </Grid>
            
            <!-- Beat Indicator Overlay -->
            <Ellipse x:Name="BeatIndicator"
                    Width="30" Height="30"
                    Fill="{DynamicResource BeatIndicatorBrush}"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="10"
                    Opacity="0">
                <Ellipse.RenderTransform>
                    <ScaleTransform x:Name="BeatScale" ScaleX="1" ScaleY="1" CenterX="15" CenterY="15"/>
                </Ellipse.RenderTransform>
            </Ellipse>
        </Grid>
    </Border>
</UserControl>
